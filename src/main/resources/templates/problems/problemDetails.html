<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: header"/>
<div th:replace="fragments/scripts" :: scripts></div>
<!--Toast ui Viewer-->
<script src="https://uicdn.toast.com/editor/latest/toastui-editor-viewer.js"></script>
<body>
<div th:replace="fragments/bodyHeader :: bodyHeader"/>
<div class="detail-cover">
    <form th:object="${form}" method="get">
        <input type="hidden" th:field="*{id}" readonly/>
        <div class="cover detail-title">
            <h3 th:text="*{title}" readonly></h3>
            <h6 class="badge bg-secondary" th:text="*{getSiteName}"></h6>
        </div>


        <div class="cover-url" th:if="!*{url == ''}" >
            <img class="icon-url" src="/img/url.png">
            <a class="detail-url" th:text="*{url}" th:href="*{url}" target='_blank' readonly></a>
        </div>

        <hr class="my-3">
        <div th:replace="fragments/toastUi :: viewer"/>
        <hr class="my-3">

        <div type="text" th:field="*{tagText}" th:text="*{tagText}"  class="form-control" readonly></div>
        <br>

        <a th:href="@{/problems/{id}/edit(id=${id})}" class="btn btn-primary" role="button">수정</a>
        <a th:href="@{/problems/{id}/reviews/new(id=${id})}" class="btn btn-primary" role="button">리뷰
            등록</a>

    </form>
    <br>
    <div class="container" th:if="${form.reviewInfo.size()}">
        <H3>
            리뷰 목록
        </H3>

        <table class="table table-striped">
            <thead>
            <tr>
                <th>#</th>
                <th>제목</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="review : ${form.reviewInfo}">
                <td th:text="${review.key}"></td>
                <td>
                    <!--제목          -->
                    <a th:href="@{/problems/{problemId}/reviews/{reviewId} (problemId=${form.getId()}, reviewId =${review.key})}"
                       th:text="${review.value}"></a>
                </td>
            </tr>
            </tbody>
        </table>

    </div>
    <br>
    <div th:replace="fragments/footer :: footer"/>
</div> <!-- /container -->
</body>
</html>